{% extends 'base.html' %}

{% block content %}
<div class="container mt-5">
    <h1>{{ genre.C_name }}</h1>

    <div class="mb-3">
        <a href="{{ url_for('edit_genre', id=genre.C_id) }}" class="btn btn-warning">Edit Genre</a>
    </div>

    <h3>Books in this Genre</h3>
    {% if genre.books %}
    <table class="table table-bordered">
        <thead>
            <tr>
                <th>Title</th>
                <th>Author</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for book in genre.books %}
            <tr>
                <td><a href="{{ url_for('book_detail', id=book.B_id) }}">{{ book.B_title }}</a></td>
                <td><a href="{{ url_for('author', id=book.A_id) }}">{{ book.author.A_name }}</a></td>
                <td>
                    <a href="{{ url_for('edit_book', id=book.B_id) }}" class="btn btn-warning btn-sm">Edit</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <p>No books available in this genre.</p>
    {% endif %}
</div>
{% endblock %}
